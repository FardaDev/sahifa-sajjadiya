/**
 * Base Styles
 *
 * Foundation styles including RTL/LTR font switching, scrollbars,
 * base element resets, and accessibility improvements.
 */

@layer base {
    /* RTL/LTR Font Switching */
    html[dir="rtl"] {
        font-family: var(--font-family-rtl);
    }

    html[dir="ltr"] {
        font-family: var(--font-family-ltr);
    }

    /* Smooth Scrolling */
    html {
        scroll-behavior: smooth;
    }
}

@layer base {
    /* Custom Scrollbar Styles */
    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100 dark:bg-gray-900;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 dark:bg-gray-700 rounded-lg;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400 dark:bg-gray-600;
    }

    /* Firefox Scrollbar */
    * {
        scrollbar-width: thin;
        scrollbar-color: var(--color-gray-300) var(--color-gray-100);
    }

    .dark * {
        scrollbar-color: var(--color-gray-700) var(--color-gray-900);
    }
}

@layer base {
    /* Focus Visible for Accessibility */
    *:focus-visible {
        @apply outline-2 outline-offset-2 outline-blue-500;
    }

    /* Remove default focus outline for mouse users */
    *:focus:not(:focus-visible) {
        outline: none;
    }

    /* Selection Colors */
    ::selection {
        @apply bg-blue-500/20 text-blue-900 dark:text-blue-100;
    }

    /* Base Element Resets */
    body {
        @apply antialiased;
    }

    /* Improve text rendering */
    body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    /* Prevent horizontal scroll */
    html, body {
        @apply overflow-x-hidden;
    }
}

@layer base {
    /* Accessibility: Skip to main content link */
    .skip-to-main {
        @apply absolute -top-full left-0 z-50 bg-blue-600 text-white px-4 py-2 rounded-br-lg;
        @apply focus:top-0 transition-all;
    }

    /* Alpine.js x-cloak */
    [x-cloak] {
        display: none !important;
    }

    /* Reduced Motion Support */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
}
